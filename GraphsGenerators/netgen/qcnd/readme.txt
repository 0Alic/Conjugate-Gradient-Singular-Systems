Author: Claudio Gentile
Date: 20-03-2012

The generation of the Single Commodity Convex Quadratic-cost Network Design
Problems is performed in three steps:

1) pargen generates parameters for the netgen generator.

   usage is 

   pargen m rho k cf cq s

   where 

   m    is the number of edges of network G to be generated

   rho  in the set {1,2,3} represent the density of G according to
        the following formulae: let

       	   prho = 0.25 if rho = 1
	   prho = 0.5  if rho = 2
	   prho = 0.75 if rho = 3

        then the number of nodes is

           n =  floor( 1.0 + sqrt( 1.0 + (8.0*m)/prho ) ) / 2 ) 

   k    is the number of the instance
      
   cf   is equal either to "a" or to "b"; used in step 3

   cq   is equal either to "a" or to "b"; used in step 3

   scale is either "s" or "ns"; if scale == "s", capacities of arcs are
         scaled by 0.7

   pargen produces a file named

         netgen-$m-$rho-$k-$cf-$cq-$s.par


2)  netgen is a well-known generator [A] of single-commodity Min-Cost Flow
    Problems, available e.g. at

       http://www.di.unipi.it/optimize/Data/MMCF/netgen.tgz

    or at the DIMACS site

       ftp://dimacs.rutgers.edu/pub/netflow/generators/

    Usage is 

       netgen < netgen-$m-$rho-$k-$cf-$cq-$s.par \
              > netgen-$m-$rho-$k-$cf-$cq-$s.dmx

    where the values m,rho,k,cf,cq,s are the same as in step 1).


3)  qfcgen produces the cost file for fixed and quadratic costs.
    Usage is

       qfcgen netgen-$m-$rho-$k-$cf-$cq-$s.dmx

    Output is a file

       netgen-$m-$rho-$k-$cf-$cq-$s.qfc

    that contains

       m (the number of arcs as given in input)
       fixed costs of arc 1 ... fixed costs of arc m
       quadratic cost of arc 1 ... quadratic cost of arc m

    The parameter cf indicates if the fixed costs are generated to be
    high ("a") or low ("b") with respect to the linear costs generated by
    netgen. The parameter cq indicates if the quadratic costs are generated
    to be high ("a") or low ("b") with respect to the fixed costs.
    The formulae are the following:

    Fixed Costs

    Ccm_1 = cf == 'a' ?  3.0 : 0.5;
    Ccm_2 = cf == 'a' ? 10.0 : 1.0;

    Let Cb be the linear costs: then the fixed costs Cc are

    num1 = Cb[ e ] * Ccm_1;
    num2 = Cb[ e ] * Ccm_2 - num1;
    num = rand() % num2 + num1;
    Cc[ e ] = num + 1;

    Quadratic Costs

    Cam_1 = cf == 'a' ?  100 : 1;
    Cam_2 = cf == 'a' ? 1000 : 3;

    With Cc the fixed costs computed as above, the quadratic costs Ca are

    dnum1 = Cc[ e ] * Cam_1;
    diff = Cc[ e ] * Cam_2 - dnum1;
    num = ( ( (double)rand() ) / RAND_MAX ) * diff;
    num = num + dnum1;
    Ca[ e ] = num + 1; 


[A] Klingman, D., A. Napier, and J. Stutz, "NETGEN: A Program for Generating
    Large Scale Capacitated Assignment, Transportation, and Minimum Cost Flow
    Network Problems", Management Science 20, 5, 814-821 (1974)
